@model IEnumerable<LanAdept.Views.Tournaments.ModelController.TournamentModel>

@{
	ViewBag.Title = "Liste des tournois";
}

<h1>Liste des tournois</h1>
<hr />

@if (!string.IsNullOrWhiteSpace(TempData["Error"] as string))
{
	<div class="alert alert-danger" role="alert">
		@Html.Raw(TempData["Error"])
	</div>
}
@if (!string.IsNullOrWhiteSpace(TempData["Success"] as string))
{
	<div class="alert alert-success" role="alert">
		@Html.Raw(TempData["Success"])
	</div>
}

<table class="table table-striped table-hover">
	<thead>
		<tr>
			<th class="col-sm-6">
				@Html.DisplayNameFor(model => model.Game)
			</th>
			<th class="text-center">
				Nombre d'équipes
			</th>
			<th class="text-center">
				Heure de début
			</th>
			<th></th>
		</tr>
	</thead>
	<tbody>
		@foreach (LanAdept.Views.Tournaments.ModelController.TournamentModel tournamentModel in Model)
		{
			<tr @("class=clickable-row data-row-url=" + Url.Action("Details", "Tournament", new { id = tournamentModel.TournamentID }))>
				<td>
					@Html.DisplayFor(modelItem => tournamentModel.Game.Name)
				</td>
				<td class="text-center">
					@tournamentModel.Teams.Count()
				</td>
				<td class="text-center">
					@Html.DisplayFor(modelItem => tournamentModel.StartTime)
				</td>
				<td>
					@if (tournamentModel.IsOver)
					{
						<div class="label label-danger">
							Terminé
						</div>
					}
					else if (tournamentModel.IsStarted)
					{
						<div class="label label-success">
							Commencé
						</div>
					}
				</td>
			</tr>
		}
	</tbody>
</table>

@section Styles {
	@Styles.Render("~/Content/Tournois.css")
}
