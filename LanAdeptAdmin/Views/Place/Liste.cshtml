@model LanAdeptAdmin.Views.Place.ModelController.ListeModel
@Scripts.Render("~/bundles/jquery")
@{
	ViewBag.Title = "Places";
	ViewBag.Sidebar = "_Sidebar_Place";
    var seatId = 0;
}

<div class="page-header clearfix">
    <h2>@ViewBag.Title</h2>
</div>

@Html.ShowMessage()
<div id="chart"></div>
<script>
        $(document).ready(function () {
            new seatsio.SeatingChart({
                divId: 'chart',
                publicKey: '3788b701-1b85-4864-bc58-49ff85ca2c14',
                event: 'cd826557-5c7e-48d2-96e2-2523128a6e25',
                maxSelectedObjects: 1,
                onObjectSelected: function (object) {
                    seatId = object.id;
                    //$.ajax({
                    //    type: "GET",
                    //    url: "../Place/Details",
                    //    data: "id=" + seatId,
                    //    success: function (msg) { console.log(msg);}
                    //});
                    window.location.href = "../Place/Details/" + seatId;
                 
                },
                onObjectDeselected: function (object) {

                },

            }).render();

        });

</script>

@section Scripts {

	@*<script>
        $('#ModalReserverPlace, #ModalChangerPlace').on('show.bs.modal', function (event) {
            var button = $(event.relatedTarget);
            var placeID = button.data('placeId');
            var text = button.data('placeText');

            var modal = $(this);
            modal.find('.modal-place-text').text(text);
            modal.find('.btnReserver').attr("href", "@Url.Action("Reserver")/" + placeID)
        })
    </script>
    *@
}

@section Styles {
    <link href="@Url.Content("~/Content/Map.css")" rel="stylesheet" type="text/css" />
       <script src="https://app.seats.io/chart.js" type="text/javascript"></script>
}